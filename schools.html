<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Schools â€” StateOfRochester</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Source+Serif+4:ital,wght@0,300;0,400;0,600;1,400&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --ink: #0f0f0f;
      --paper: #f5f0e8;
      --paper-dark: #ece6d6;
      --red: #c0392b;
      --accent: #1a3a5c;
      --mid: #7f8c8d;
      --cat: #1a5276;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: var(--paper); color: var(--ink); font-family: 'Source Serif 4', Georgia, serif; font-size: 16px; line-height: 1.6; }

    .masthead { background: var(--ink); color: var(--paper); text-align: center; padding: 2rem 1rem 1.4rem; border-bottom: 4px solid var(--red); position: relative; overflow: hidden; }
    .masthead::before { content: ''; position: absolute; inset: 0; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.015) 2px, rgba(255,255,255,0.015) 4px); pointer-events: none; }
    .masthead-eyebrow { font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.25em; text-transform: uppercase; color: var(--mid); margin-bottom: 0.5rem; }
    .masthead h1 { font-family: 'Playfair Display', serif; font-size: clamp(2.8rem, 8vw, 5.5rem); font-weight: 900; letter-spacing: -0.02em; line-height: 1; color: var(--paper); }
    .masthead h1 span { color: var(--red); }
    .masthead-tagline { font-family: 'Source Serif 4', serif; font-style: italic; font-size: 0.95rem; color: #a09080; margin-top: 0.6rem; }
    .masthead-meta { display: flex; justify-content: center; gap: 2rem; margin-top: 1.2rem; padding-top: 1rem; border-top: 1px solid #333; font-family: 'DM Mono', monospace; font-size: 0.6rem; letter-spacing: 0.15em; color: #666; text-transform: uppercase; }

    nav { background: var(--paper-dark); border-bottom: 2px solid var(--ink); display: flex; justify-content: center; flex-wrap: wrap; }
    nav a { display: block; padding: 0.65rem 1.2rem; font-family: 'DM Mono', monospace; font-size: 0.7rem; letter-spacing: 0.12em; text-transform: uppercase; text-decoration: none; color: var(--ink); border-right: 1px solid #ccc; transition: background 0.15s; }
    nav a:first-child { border-left: 1px solid #ccc; }
    nav a:hover { background: var(--ink); color: var(--paper); }
    nav a.active { background: var(--cat); color: #fff; }

    .cat-header { background: var(--cat); color: #fff; padding: 2.5rem 1.5rem; border-bottom: 3px solid var(--ink); }
    .cat-header-inner { max-width: 1100px; margin: 0 auto; display: flex; align-items: center; gap: 1.5rem; }
    .cat-icon { font-size: 2.8rem; line-height: 1; }
    .cat-eyebrow { font-family: 'DM Mono', monospace; font-size: 0.6rem; letter-spacing: 0.3em; text-transform: uppercase; opacity: 0.7; margin-bottom: 0.3rem; }
    .cat-title { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 5vw, 3rem); font-weight: 900; line-height: 1.05; letter-spacing: -0.02em; }
    .cat-desc { font-size: 0.95rem; opacity: 0.85; margin-top: 0.4rem; font-style: italic; max-width: 500px; }

    .container { max-width: 1100px; margin: 0 auto; padding: 0 1.5rem; }
    .page-wrap { padding: 2.5rem 0 4rem; }

    .featured-row { display: grid; grid-template-columns: 1fr 340px; gap: 3rem; padding-bottom: 2.5rem; margin-bottom: 2.5rem; border-bottom: 2px solid var(--ink); }
    .section-label { font-family: 'DM Mono', monospace; font-size: 0.6rem; letter-spacing: 0.25em; text-transform: uppercase; color: var(--mid); margin-bottom: 0.8rem; padding-bottom: 0.4rem; border-bottom: 2px solid var(--ink); }
    .featured-article .article-tag { display: inline-block; background: var(--cat); color: #fff; font-family: 'DM Mono', monospace; font-size: 0.58rem; letter-spacing: 0.15em; text-transform: uppercase; padding: 0.2rem 0.6rem; margin-bottom: 0.8rem; }
    .featured-article h2 { font-family: 'Playfair Display', serif; font-size: clamp(1.5rem, 3vw, 2.2rem); font-weight: 900; line-height: 1.15; letter-spacing: -0.02em; margin-bottom: 0.7rem; }
    .featured-article h2 a { color: var(--ink); text-decoration: none; }
    .featured-article h2 a:hover { color: var(--cat); }
    .featured-article .byline { font-family: 'DM Mono', monospace; font-size: 0.62rem; color: var(--mid); letter-spacing: 0.08em; margin-bottom: 0.8rem; }
    .featured-article p { font-size: 1rem; color: #333; line-height: 1.7; }
    .hero-divider { width: 40px; height: 3px; background: var(--cat); margin: 0.8rem 0; }

    .featured-sidebar { display: flex; flex-direction: column; gap: 1.2rem; border-left: 1px solid #ddd; padding-left: 2rem; }
    .feat-side-article { padding-bottom: 1.2rem; border-bottom: 1px solid #eee; }
    .feat-side-article:last-child { border-bottom: none; padding-bottom: 0; }
    .feat-side-article .article-tag { font-family: 'DM Mono', monospace; font-size: 0.55rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--cat); margin-bottom: 0.3rem; }
    .feat-side-article h3 { font-family: 'Playfair Display', serif; font-size: 1rem; font-weight: 700; line-height: 1.3; margin-bottom: 0.3rem; }
    .feat-side-article h3 a { color: var(--ink); text-decoration: none; }
    .feat-side-article h3 a:hover { color: var(--cat); }
    .feat-side-article .byline { font-family: 'DM Mono', monospace; font-size: 0.57rem; color: var(--mid); }

    .articles-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; }
    .grid-article { border-top: 3px solid var(--cat); padding-top: 1rem; }
    .grid-article .article-tag { font-family: 'DM Mono', monospace; font-size: 0.55rem; letter-spacing: 0.12em; text-transform: uppercase; color: var(--cat); margin-bottom: 0.4rem; }
    .grid-article h3 { font-family: 'Playfair Display', serif; font-size: 1.05rem; font-weight: 700; line-height: 1.3; margin-bottom: 0.4rem; }
    .grid-article h3 a { color: var(--ink); text-decoration: none; }
    .grid-article h3 a:hover { color: var(--cat); }
    .grid-article p { font-size: 0.85rem; color: #555; line-height: 1.6; margin-bottom: 0.4rem; }
    .grid-article .byline { font-family: 'DM Mono', monospace; font-size: 0.57rem; color: var(--mid); }

    .load-more-row { text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #ddd; }
    .load-more-note { font-family: 'DM Mono', monospace; font-size: 0.62rem; letter-spacing: 0.12em; color: var(--mid); text-transform: uppercase; }

    footer { background: var(--ink); color: #777; text-align: center; padding: 2rem 1rem; font-family: 'DM Mono', monospace; font-size: 0.62rem; letter-spacing: 0.1em; }
    footer a { color: #999; text-decoration: none; }
    footer a:hover { color: var(--paper); }
    .footer-title { font-family: 'Playfair Display', serif; font-size: 1.5rem; color: var(--paper); letter-spacing: -0.01em; margin-bottom: 0.5rem; }

    @keyframes fadeUp { from { opacity: 0; transform: translateY(14px); } to { opacity: 1; transform: translateY(0); } }
    .cat-header, .featured-row, .articles-grid { animation: fadeUp 0.5s ease both; }
    .featured-row { animation-delay: 0.1s; }
    .articles-grid { animation-delay: 0.2s; }

    @media (max-width: 800px) {
      .featured-row { grid-template-columns: 1fr; }
      .featured-sidebar { border-left: none; padding-left: 0; border-top: 2px solid var(--ink); padding-top: 1.5rem; }
      .articles-grid { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 500px) { .articles-grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>

<header class="masthead">
  <div class="masthead-eyebrow">Rochester, New York Â· Est. 2025</div>
  <h1><a href="index.html" style="color:inherit;text-decoration:none;">State<span>Of</span>Rochester</a></h1>
  <p class="masthead-tagline">The community pulse of the Flower City</p>
  <div class="masthead-meta">
    <span id="todays-date"></span>
    <span>Rochester, NY</span>
    <span>Independent &amp; Local</span>
  </div>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="safety.html">Safety</a>
  <a href="schools.html" class="active">Schools</a>
  <a href="neighborhoods.html">Neighborhoods</a>
  <a href="events.html">Events</a>
  <a href="about.html">About</a>
  <a href="tips.html">Tips</a>
</nav>

<div class="cat-header">
  <div class="cat-header-inner">
    <div class="cat-icon">ðŸŽ“</div>
    <div>
      <div class="cat-eyebrow">Rochester, NY Â· StateOfRochester</div>
      <h2 class="cat-title">Schools</h2>
      <p class="cat-desc">Covering Rochester City School District, charter schools, higher education, and the issues shaping the future of learning in Rochester.</p>
    </div>
  </div>
</div>

<div class="container page-wrap">

  <div class="featured-row">
    <div>
      <div class="section-label">Featured Story</div>
      <article class="featured-article" id="featured-article">
        <span class="article-tag">Schools</span>
        <h2><a href="#">Loading...</a></h2>
        <div class="byline">Loading...</div>
        <div class="hero-divider"></div>
        <p>Loading articles from CMS...</p>
      </article>
    </div>
    <div class="featured-sidebar" id="featured-sidebar">
      <div class="section-label">Also in Schools</div>
      <div class="feat-side-article"><div class="article-tag">Schools</div><h3><a href="#">Loading...</a></h3><div class="byline">Loading...</div></div>
    </div>
  </div>

  <div class="section-label">More Stories</div>
  <div class="articles-grid" id="articles-grid">
    <article class="grid-article"><div class="article-tag">Schools</div><h3><a href="#">Loading...</a></h3><p>Loading...</p><div class="byline">Loading...</div></article>
  </div>

  <div class="load-more-row">
    <p class="load-more-note">More stories coming as coverage grows â€” <a href="tips.html" style="color:var(--cat);">submit a tip</a> to help shape what we cover.</p>
  </div>

</div>

<footer>
  <div class="footer-title">StateOfRochester</div>
  <p>Independent community journalism for Rochester, NY Â· <a href="tips.html">Submit a Tip</a> Â· <a href="about.html">About</a> Â· <a href="tips.html">Contact</a></p>
  <p style="margin-top:0.5rem">Â© 2025 StateOfRochester. All rights reserved.</p>
</footer>

<script src="js/data.js"></script>
<script>
  var CATEGORY = 'schools';
  
  var d = new Date();
  document.getElementById('todays-date').textContent = d.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });

  async function loadCategoryArticles() {
    try {
      var response = await fetch('_data/articles.json');
      var data = await response.json();
      var allArticles = data.articles || [];
      
      var categoryArticles = [];
      for (var i = 0; i < allArticles.length; i++) {
        if (allArticles[i].category === CATEGORY) {
          categoryArticles.push(allArticles[i]);
        }
      }
      
      if (categoryArticles.length === 0) {
        document.getElementById('featured-article').innerHTML = '<p>No articles in this category yet.</p>';
        return;
      }
      
      var featured = categoryArticles[0];
      var others = categoryArticles.slice(1);
      
      var featuredHTML = '<span class="article-tag">' + window.StateOfRochester.getCategoryDisplay(featured.category) + '</span>' +
        '<h2><a href="article.html?slug=' + featured.slug + '">' + featured.title + '</a></h2>' +
        '<div class="byline">By ' + featured.author + ' Â· ' + featured.date + ' Â· ' + featured.read_time + '</div>' +
        '<div class="hero-divider"></div>' +
        '<p>' + (featured.dek || 'Click to read the full story.') + '</p>';
      document.getElementById('featured-article').innerHTML = featuredHTML;
      
      var sidebarHTML = '<div class="section-label">Also in Schools</div>';
      var sidebarCount = Math.min(others.length, 3);
      for (var j = 0; j < sidebarCount; j++) {
        var a = others[j];
        sidebarHTML = sidebarHTML + '<div class="feat-side-article"><div class="article-tag">' + window.StateOfRochester.getCategoryDisplay(a.category) + '</div><h3><a href="article.html?slug=' + a.slug + '">' + a.title + '</a></h3><div class="byline">' + a.date + ' Â· ' + a.read_time + '</div></div>';
      }
      document.getElementById('featured-sidebar').innerHTML = sidebarHTML;
      
      var gridHTML = '';
      var gridCount = Math.min(others.length - sidebarCount, 6);
      for (var k = 0; k < gridCount; k++) {
        var g = others[sidebarCount + k];
        if (g) {
          gridHTML = gridHTML + '<article class="grid-article"><div class="article-tag">' + window.StateOfRochester.getCategoryDisplay(g.category) + '</div><h3><a href="article.html?slug=' + g.slug + '">' + g.title + '</a></h3><p>' + (g.dek || 'Click to read more.') + '</p><div class="byline">' + g.date + ' Â· ' + g.read_time + '</div></article>';
        }
      }
      if (gridHTML) {
        document.getElementById('articles-grid').innerHTML = gridHTML;
      }
      
    } catch (e) {
      console.error('Error loading category articles:', e);
    }
  }

  loadCategoryArticles();
</script>
</body>
</html>
